<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your Node.js application, please visit
  http://go.microsoft.com/fwlink/?LinkId=290972
  -->
<configuration>
  <system.webServer>
    <staticContent>
      <!-- <remove fileExtension=".json" /> 
      <mimeMap fileExtension=".json" mimeType="application/json" />
      <mimeMap fileExtension=".svg" mimeType="image/svg+xml" /> -->
      <mimeMap fileExtension=".json" mimeType="application/javascript" />       
      <mimeMap fileExtension=".js" mimeType="application/javascript" />
    </staticContent>
<!-- indicates that the app.js file is a node.js application 
to be handled by the iisnode module -->

<handlers>
  <add name="iisnode" path="app.js" verb="*" modules="iisnode" />
</handlers>

<rewrite>
    <rules>
        <rule name="sendToNode">
            <match url="/*" />
            <action type="Rewrite" url="app.js" />
        </rule>
    </rules>
</rewrite>

<iisnode devErrorsEnabled="false" />

  </system.webServer>
</configuration>